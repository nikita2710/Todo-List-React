{"ast":null,"code":"import _defineProperty from\"/Users/nikitasharma/Desktop/Todo-List-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/nikitasharma/Desktop/Todo-List-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nikitasharma/Desktop/Todo-List-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/nikitasharma/Desktop/Todo-List-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/nikitasharma/Desktop/Todo-List-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/nikitasharma/Desktop/Todo-List-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Table from'react-bootstrap/Table';import Button from'react-bootstrap/Button';import Dropdown from'react-bootstrap/Dropdown';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Form from'react-bootstrap/Form';import InputGroup from'react-bootstrap/InputGroup';import Modal from'react-bootstrap/Modal';import'./todo.scss';var ToDo=/*#__PURE__*/function(_Component){_inherits(ToDo,_Component);function ToDo(){var _getPrototypeOf2;var _this;_classCallCheck(this,ToDo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ToDo)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={title:\"\",description:\"\",status:\"\",show:false,tasks:[]};_this.refreshTasks=function(){var url='https://engine-staging.viame.ae/assessment/user/list';var tokk=localStorage.getItem(\"token\");fetch(url,{method:'GET',headers:{'x-access-token':tokk}}).then(function(res){return res.json();}).catch(function(error){return console.error('Error:',error);}).then(function(response){console.log('Success:',response);_this.setState({tasks:response});});};_this.componentDidMount=function(){_this.refreshTasks();};_this.handleClose=function(){return _this.setState({show:false});};_this.handleShow=function(){return _this.setState({show:true});};_this.handleModalChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.addNewTask=function(){var url='https://engine-staging.viame.ae/assessment/user/task';var tokk=localStorage.getItem(\"token\");var data={todolist:{title:_this.state.title,description:_this.state.description,status:1}};fetch(url,{method:'POST',body:JSON.stringify(data),headers:{'Content-Type':'application/json','x-access-token':tokk}}).then(function(res){return res.json();}).catch(function(error){return console.error('Error:',error);}).then(function(response){console.log('Success:',response);_this.handleClose();_this.refreshTasks();});};_this.deleteTask=function(id){var url='https://engine-staging.viame.ae/assessment/user/task/'+id;var tokk=localStorage.getItem(\"token\");fetch(url,{method:'DELETE',headers:{'x-access-token':tokk}}).then(function(res){return res.json();}).catch(function(error){return console.error('Error:',error);}).then(function(response){console.log('Success:',response);_this.refreshTasks();});};_this.updateTask=function(task,status){var url='https://engine-staging.viame.ae/assessment/user/task/'+task._id;var data={todolist:{title:task.title,description:task.description,status:status}};fetch(url,{method:'PUT',body:JSON.stringify(data),headers:{'Content-Type':'application/json','x-access-token':'ca7fe1db6188a235dabc9c1457d82e636b11a543'}}).then(function(res){return res.json();}).catch(function(error){return console.error('Error:',error);}).then(function(response){console.log('Success:',response);_this.refreshTasks();});};_this.logOut=function(){localStorage.removeItem(\"token\");_this.props.userLoggedOut();};return _this;}_createClass(ToDo,[{key:\"renderStatus\",value:function renderStatus(param){switch(param){case 1:return\"Created\";case 2:return\"Working\";case 3:return\"Finished\";case 4:return\"Cancelled\";default:return\"Created\";}}},{key:\"render\",value:function render(){var _this2=this;var tasks=this.state.tasks;var show=this.state.show;return React.createElement(Container,{className:\"todoList\"},React.createElement(Row,null,React.createElement(Col,{className:\"alignBtn\"},React.createElement(Button,{id:\"logOut\",variant:\"secondary\",type:\"button\",onClick:this.logOut},\"Logout\"),React.createElement(Button,{id:\"newTask\",variant:\"primary\",onClick:this.handleShow,type:\"button\"},\" + New Task\"))),React.createElement(Row,{className:\"todoBox\"},tasks.length===0&&React.createElement(\"h3\",null,\"No tasks found!\"),tasks.length>0&&React.createElement(Table,{responsive:true},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Task\"),React.createElement(\"th\",null,\"Description\"),React.createElement(\"th\",null,\"Status\"),React.createElement(\"th\",null,\"Action\"))),React.createElement(\"tbody\",null,tasks.map(function(task){return React.createElement(\"tr\",{key:task._id},React.createElement(\"td\",null,task.title),React.createElement(\"td\",null,task.description),React.createElement(\"td\",null,_this2.renderStatus(task.status)),React.createElement(\"td\",null,React.createElement(Dropdown,null,React.createElement(Dropdown.Toggle,{variant:\"success\",id:\"dropdown-basic\"},\"Actions \"),React.createElement(Dropdown.Menu,null,React.createElement(Dropdown.Item,{onClick:function onClick(){_this2.updateTask(task,3);}},\"Finished\"),React.createElement(Dropdown.Item,{onClick:function onClick(){_this2.updateTask(task,2);}},\"Working\"),React.createElement(Dropdown.Item,{onClick:function onClick(){_this2.updateTask(task,4);}},\"Cancel Task\"),React.createElement(Dropdown.Item,{onClick:function onClick(){_this2.deleteTask(task._id);}},\"Delete\")))));})))),React.createElement(Modal,{show:show,onHide:this.handleClose,className:\"newModal\"},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,null,\"Add New Task\")),React.createElement(Modal.Body,null,React.createElement(Form,{className:\"text-center newTaskForm\"},React.createElement(Form.Group,{controlId:\"title\"},React.createElement(InputGroup,null,React.createElement(Form.Control,{type:\"text\",name:\"title\",placeholder:\"Enter task title\",onChange:this.handleModalChange,required:true}),React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please enter title for the task\"))),React.createElement(Form.Group,{controlId:\"description\"},React.createElement(InputGroup,null,React.createElement(Form.Control,{as:\"textarea\",type:\"text\",name:\"description\",placeholder:\"Enter task description\",onChange:this.handleModalChange}),React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please enter a valid description for the task\"))))),React.createElement(Modal.Footer,null,React.createElement(Button,{variant:\"secondary\",onClick:this.handleClose},\"Close\"),React.createElement(Button,{variant:\"primary\",onClick:this.addNewTask},\"Add Task\"))));}}]);return ToDo;}(Component);export default ToDo;","map":{"version":3,"sources":["/Users/nikitasharma/Desktop/Todo-List-React/src/components/todo-list/todo.js"],"names":["React","Component","Table","Button","Dropdown","Container","Row","Col","Form","InputGroup","Modal","ToDo","state","title","description","status","show","tasks","refreshTasks","url","tokk","localStorage","getItem","fetch","method","headers","then","res","json","catch","error","console","response","log","setState","componentDidMount","handleClose","handleShow","handleModalChange","event","target","name","value","addNewTask","data","todolist","body","JSON","stringify","deleteTask","id","updateTask","task","_id","logOut","removeItem","props","userLoggedOut","param","length","map","renderStatus"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Table from 'react-bootstrap/Table'\nimport Button from 'react-bootstrap/Button';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Modal from 'react-bootstrap/Modal';\nimport './todo.scss';\n\nclass ToDo extends Component {\n    state = {\n        title: \"\",\n        description: \"\",\n        status: \"\",\n        show : false,\n        tasks: []\n    }\n\n    refreshTasks = () => {\n        const url = 'https://engine-staging.viame.ae/assessment/user/list';\n        const tokk = localStorage.getItem(\"token\");\n        fetch(url, { \n            method: 'GET',\n            headers:{ 'x-access-token': tokk } \n        }).then(res => res.json()\n        ).catch(error => console.error('Error:', error)\n        ).then(response => {\n            console.log('Success:', response);\n            this.setState({tasks: response});\n        });\n    }\n\n    componentDidMount = () => {\n        this.refreshTasks();\n    }\n\n    renderStatus(param) {\n        switch(param) {\n          case 1:\n            return \"Created\";\n          case 2:\n            return \"Working\";\n          case 3:\n            return \"Finished\";\n          case 4:\n            return \"Cancelled\";\n          default:\n            return \"Created\";\n        }\n    }\n\n    handleClose = () => this.setState({show: false});\n    handleShow = () => this.setState({show: true});\n    handleModalChange = event => {this.setState({ [event.target.name]:event.target.value })}\n\n    addNewTask = () => {\n        const url = 'https://engine-staging.viame.ae/assessment/user/task';\n        const tokk = localStorage.getItem(\"token\");\n        const data = {todolist: { title: this.state.title, description: this.state.description, status:1 }}\n        fetch(url, { \n            method: 'POST',\n            body: JSON.stringify(data),\n            headers:{ 'Content-Type': 'application/json', 'x-access-token': tokk }\n        }).then(res => res.json()\n        ).catch(error => console.error('Error:', error)\n        ).then(response => {\n            console.log('Success:', response);\n            this.handleClose();\n            this.refreshTasks();\n        });\n    }\n\n    deleteTask = (id) => {\n        const url = 'https://engine-staging.viame.ae/assessment/user/task/'+ id;\n        const tokk = localStorage.getItem(\"token\");\n        fetch(url, { \n            method: 'DELETE',\n            headers:{'x-access-token': tokk} \n        }).then(res => res.json()\n        ).catch(error => console.error('Error:', error)\n        ).then(response => {\n            console.log('Success:', response);\n            this.refreshTasks();\n        });\n    }\n\n    updateTask = (task, status) => {\n        const url = 'https://engine-staging.viame.ae/assessment/user/task/'+ task._id;\n        const data = {todolist: { title: task.title, description: task.description, status:status }}\n        fetch(url, { \n            method: 'PUT',\n            body: JSON.stringify(data),\n            headers:{ 'Content-Type': 'application/json', 'x-access-token': 'ca7fe1db6188a235dabc9c1457d82e636b11a543' } \n        }).then(res => res.json()\n        ).catch(error => console.error('Error:', error)\n        ).then(response => {\n            console.log('Success:', response);\n            this.refreshTasks();\n        });\n    }\n\n    logOut = () => {\n        localStorage.removeItem(\"token\");\n        this.props.userLoggedOut();\n    }\n\n    render() {\n        const tasks = this.state.tasks;\n        const show = this.state.show;\n        return (\n            <Container className=\"todoList\">\n                <Row>\n                    <Col className=\"alignBtn\">\n                        <Button id=\"logOut\" variant=\"secondary\" type=\"button\" onClick={this.logOut}>Logout</Button>\n                        <Button id=\"newTask\" variant=\"primary\" onClick={this.handleShow} type=\"button\"> + New Task</Button>  \n                    </Col>\n                </Row>\n                <Row className=\"todoBox\">\n                    {tasks.length === 0 && <h3>No tasks found!</h3>}\n                    {tasks.length>0 && <Table responsive>\n                        <thead>\n                            <tr>\n                                <th>Task</th>\n                                <th>Description</th>\n                                <th>Status</th>\n                                <th>Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {tasks.map(task => (\n                                <tr key={task._id}>\n                                    <td>{task.title}</td>\n                                    <td>{task.description}</td>\n                                    <td>{this.renderStatus(task.status)}</td>\n                                    <td>\n                                        <Dropdown>\n                                            <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">Actions </Dropdown.Toggle>\n                                            <Dropdown.Menu>\n                                                <Dropdown.Item onClick={ () => {this.updateTask(task, 3)} }>Finished</Dropdown.Item>\n                                                <Dropdown.Item onClick={ () => {this.updateTask(task, 2)} }>Working</Dropdown.Item>\n                                                <Dropdown.Item onClick={ () => {this.updateTask(task, 4)} }>Cancel Task</Dropdown.Item>\n                                                <Dropdown.Item onClick={ () => {this.deleteTask(task._id)} }>Delete</Dropdown.Item>\n                                            </Dropdown.Menu>\n                                        </Dropdown>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </Table>}\n                </Row>\n                <Modal show={show} onHide={this.handleClose} className=\"newModal\">\n                    <Modal.Header closeButton>\n                        <Modal.Title>Add New Task</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Form className=\"text-center newTaskForm\">\n                            <Form.Group controlId=\"title\">\n                                <InputGroup>\n                                    <Form.Control type=\"text\" name=\"title\" placeholder=\"Enter task title\" onChange={this.handleModalChange} required />\n                                    <Form.Control.Feedback type=\"invalid\">Please enter title for the task</Form.Control.Feedback>\n                                </InputGroup>\n                            </Form.Group>\n                            <Form.Group controlId=\"description\">\n                                <InputGroup>\n                                    <Form.Control as=\"textarea\" type=\"text\" name=\"description\" placeholder=\"Enter task description\" onChange={this.handleModalChange} />\n                                    <Form.Control.Feedback type=\"invalid\">Please enter a valid description for the task</Form.Control.Feedback>\n                                </InputGroup>\n                            </Form.Group>\n                        </Form>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"secondary\" onClick={this.handleClose}>Close</Button>\n                        <Button variant=\"primary\" onClick={this.addNewTask}>Add Task</Button>\n                    </Modal.Footer>\n                </Modal>\n            </Container>\n        )\n    }\n}\n\nexport default ToDo;"]},"metadata":{},"sourceType":"module"}